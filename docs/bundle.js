!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),u=r(a),s=n(2),f=r(s),c=n(3),l=r(c),p=new f.default,h=function(){function t(){i(this,t),this.time_offset=new l.default,this.timer=new u.default(this.time_offset)}return o(t,[{key:"calc_eta",value:function(){this.list=this.timer.listup_next_STT();var t=this.time_offset.get_time(),e=this.list[0]-t;this.eta=new Date(e)}},{key:"update_eta",value:function(){var t=document.getElementById("eta"),e=p.getMinText(this.eta);t.innerHTML=e;var n=document.getElementById("offset");if(this.time_offset.offset){var r;r=this.time_offset.offset<0?"-"+p.getMinText(new Date(-this.time_offset.offset)):"+"+p.getMinText(new Date(this.time_offset.offset)),n.innerHTML=r+" を補正しました。"}else n.innerHTML="時刻合わせ中 ..."}},{key:"update_list",value:function(){for(var t in this.list){var e=document.getElementById("stt-item-"+(Number(t)+1)),n=p.getMonthText(this.list[t]);e.innerHTML=n}}},{key:"update",value:function(){this.calc_eta(),this.update_eta(),this.update_list();var t=1e3;this.eta<6e4&&(t=50),setTimeout(this.update.bind(this),t)}}]),t}();window.onload=function(){(new h).update()}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(this,t),this.time_offset=e}return i(t,[{key:"listup_next_STT",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),n=[];t=this.time_offset?this.time_offset.get_time(e):new Date(e);for(var r=Math.floor((t.getMinutes()-2)/8)+1,i=t.getHours();n.length<7;){for(var o=r+1;o<=7&&n.length<7;++o){var a=2+8*(o-1),u=new Date(t);u.setHours(i),u.setMinutes(a),u.setSeconds(0),u.setMilliseconds(0),n.push(u)}r=0,i+=1}return n}}]),t}();e.default=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(){r(this,t)}return i(t,[{key:"getMonthText",value:function(t){var e=t.getMonth()+1,n=t.getDate();e<10&&(e="0"+e),n<10&&(n="0"+n);var r=t.getHours(),i=t.getMinutes(),o=t.getSeconds();return r<10&&(r="0"+r),i<10&&(i="0"+i),o<10&&(o="0"+o),e+"/"+n+" "+r+":"+i+":"+o}},{key:"getMinText",value:function(t){var e=t.getMinutes(),n=t.getSeconds(),r=t.getMilliseconds();return e<10&&(e="0"+e),n<10&&(n="0"+n),r<10?r="00"+r:r<100&&(r="0"+r),e+":"+n+"."+r}}]),t}();e.default=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(4),a=function(t){return t&&t.__esModule?t:{default:t}}(o),u=["https://ntp-a1.nict.go.jp/cgi-bin/json","https://ntp-b1.nict.go.jp/cgi-bin/json","https://ntp-a4.nict.go.jp/cgi-bin/json"],s=function(){function t(){r(this,t),this.offset=0,this.get_offset()}return i(t,[{key:"get_time",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return this.offset?new Date(t+this.offset):new Date(t)}},{key:"get_offset",value:function(){var t=this;this.results=new Array;var e=Math.floor(3*Math.random()),n=u[e];(0,a.default)(n+"?"+(new Date).getTime()/1e3,function(e,n){if(e)return void console.log(String(e));var r=new Date;n.st&&n.it&&n.leap&&n.next&&n.step&&(n.rt=r.getTime(),n.it=1e3*Number(n.it),n.st=1e3*Number(n.st),n.lb=n.it-16-n.st,n.ub=n.rt+16-n.st,t.offset=-(n.lb+n.ub)/2)})}}]),t}();e.default=s},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var e=function(t,e,n){var i;if(XMLHttpRequest)i=new XMLHttpRequest;else if(ActiveXObject)try{i=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{i=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}if(!i)return e.call(this,"Giving up :( Cannot create an XMLHTTP instance",null),!1;i.onreadystatechange=function(){if(4===i.readyState)if(i.status>=200&&i.status<400){var t=i.responseText,r=!(!n||!n.hasOwnProperty("raw"))&&n.raw;if(!r)try{t=JSON.parse(t)}catch(t){return void e.call(this,t,null)}e.call(this,null,t)}else e.call(this,new Error("There was a problem with the request"),null)};var o=n&&n.method?n.method:"GET";if("GET"==o){var a=[];if(n&&n.params&&"object"==r(n.params))for(var u in n.params)a.push(u+"="+encodeURIComponent(n.params[u]));t=a.length>0?t+"?"+a.join("&"):t,i.open("GET",t),i.send()}else if("POST"==o){var s=n&&n.data?n.data:n.params?n.params:{};i.open("POST",t),i.send(JSON.stringify(s))}return i};void 0!==t&&t.exports&&(t.exports=e),"undefined"!=typeof window&&(window.getJSONData=e)}()}]);