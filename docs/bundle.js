!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),u=r(i),c=n(2),l=r(c),s=n(3),f=r(s),d=new l.default,p=function(){function t(){var e=this;o(this,t),this.timer=new u.default,this.alert_functions={},this.alert=new f.default,this.alert_functions[15]=function(t){var n=t/1e3-20,r=329.63,o=[{freq:r,duration:60/248*2},{freq:r,duration:60/248*2},{freq:349.23,duration:60/248*2},{freq:r,duration:60/248*1},{freq:349.23,duration:60/248*1}];e.alert.play_melody(n,o)},this.alert_functions[3]=function(t){e.alert._play_oscillator(440,t/1e3-3,.1)},this.alert_functions[2]=function(t){e.alert._play_oscillator(440,t/1e3-2,.1)},this.alert_functions[1]=function(t){e.alert._play_oscillator(440,t/1e3-1,.1)},this.alert_functions[0]=function(t){e.alert._play_oscillator(880,t/1e3-0,1)}}return a(t,[{key:"calc_eta",value:function(){var t=new Date(Date.now());this.list=this.timer.listup_next_STT(),this.eta=new Date(this.list[0]-t)}},{key:"update_eta",value:function(){var t=document.getElementById("eta"),e=d.getMinText(this.eta);t.innerHTML=e}},{key:"update_list",value:function(){for(var t=0;t<this.list.length;++t){var e=document.getElementById("stt-item-"+(t+1)),n=d.getMonthText(this.list[t]);e.innerHTML=n}}},{key:"update_sound",value:function(){var t=Math.floor(this.eta/1e3);alert_functions[t]&&alert_functions[t](this.eta)}},{key:"update",value:function(){this.calc_eta(),this.update_eta(),this.update_list(),this.update_sound();var t=1e3;this.eta<6e4&&(t=50),setTimeout(this.update.bind(this),t)}}]),t}();window.onload=function(){(new p).update()}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){r(this,t)}return o(t,[{key:"listup_next_STT",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=[],n=new Date(t),r=Math.floor((n.getMinutes()-2)/8)+1,o=n.getHours();e.length<7;){for(var a=r+1;a<=7&&e.length<7;++a){var i=2+8*(a-1),u=new Date(n);u.setHours(o),u.setMinutes(i),u.setSeconds(0),u.setMilliseconds(0),e.push(u)}r=0,o+=1}return e}}]),t}();e.default=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){r(this,t)}return o(t,[{key:"getMonthText",value:function(t){var e=t.getMonth()+1,n=t.getDate();e<10&&(e="0"+e),n<10&&(n="0"+n);var r=t.getHours(),o=t.getMinutes(),a=t.getSeconds();return r<10&&(r="0"+r),o<10&&(o="0"+o),a<10&&(a="0"+a),e+"/"+n+" "+r+":"+o+":"+a}},{key:"getMinText",value:function(t){var e=t.getMinutes(),n=t.getSeconds(),r=t.getMilliseconds();return e<10&&(e="0"+e),n<10&&(n="0"+n),r<10?r="00"+r:r<100&&(r="0"+r),e+":"+n+"."+r}}]),t}();e.default=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){r(this,t)}return o(t,[{key:"_createAudioContext",value:function(){return window.AudioContext=window.AudioContext||window.webkitAudioContext,new AudioContext}},{key:"_createOscillator",value:function(t){var e=t.createOscillator();return e.start=e.start||e.noteOn,e.stop=e.stop||e.noteOff,t.createGain=t.createGain||t.createGainNode,e}},{key:"_play_oscillator",value:function(t,e,n){var r=this._createAudioContext(),o=this._createOscillator(r);o.type="string"==typeof o.type?"sine":0,o.frequency.value=t;var a=r.createGain();o.connect(a),a.connect(r.destination),o.start(e),o.stop(e+n)}},{key:"play_melody",value:function(t,e){var n=this._createAudioContext(),r=n.createGain();for(var o in e){var a=this._createOscillator(n),i=e[o];a.type="string"==typeof a.type?"sine":0,a.frequency.value=i.freq,a.connect(r),r.connect(n.destination),a.start(t),a.stop(t+i.duration),t+=i.duration}}}]),t}();e.default=a}]);