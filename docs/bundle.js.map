{"version":3,"sources":["webpack:///webpack/bootstrap 967c436197fd9e423c5f","webpack:///./src/main.js","webpack:///./src/salmonrun_time_timer.js","webpack:///./src/date_formatter.js","webpack:///./src/time_offset.js","webpack:///./node_modules/get-json-data/index.js"],"names":["date_formatter","App","time_offset","timer","load_mode5T","document","getElementById","onclick","on_change_mode5T","bind","list","listup_next_STT","now","get_time","eta","Date","elmEta","textEta","getMinText","innerHTML","elmOffset","offset_jst","textOffset","offset_5T","i","elmSTT","Number","textSTT","getMonthText","loop","calc_eta","update_eta","update_list","interval","setTimeout","update","elmMode5T","mode5T","localStorage","MaterialSwitch","parentElement","MaterialCheckbox","console","log","on","off","className","split","indexOf","set_offset_5T","window","onload","app","SalmonrunTimeTimer","date","base","period","Math","floor","getMinutes","hours","getHours","length","minutes","d","setHours","setMinutes","setSeconds","setMilliseconds","push","DateFormatter","MM","getMonth","DD","getDate","hh","mm","ss","getSeconds","SSS","getMilliseconds","ServerList","TimeOffset","get_offset_jst","offset","results","Array","server_no","random","server_addr","getTime","err","json","String","st","it","leap","next","step","rt","lb","ub","makeRequest","url","callback","opt","xhr","XMLHttpRequest","ActiveXObject","e","call","onreadystatechange","readyState","status","data","responseText","raw","hasOwnProperty","JSON","parse","Error","method","params","key","encodeURIComponent","join","open","send","stringify","module","exports","getJSONData"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 967c436197fd9e423c5f","import SalmonrunTimeTimer from \"./salmonrun_time_timer\";\nimport DateFormatter from \"./date_formatter\";\nimport TimeOffset from \"./time_offset\";\n\nconst date_formatter = new DateFormatter();\n\nclass App {\n    constructor() {\n        this.time_offset = new TimeOffset();\n        this.timer = new SalmonrunTimeTimer(this.time_offset);\n\n        this.load_mode5T();\n        document.getElementById(\"mode_5T\").onclick = this.on_change_mode5T.bind(this);\n    }\n    calc_eta() {\n        this.list = this.timer.listup_next_STT();\n        const now = this.time_offset.get_time();\n        var eta = this.list[0] - now;\n        this.eta = new Date(eta);\n    }\n    update_eta() {\n        // eta\n        const elmEta = document.getElementById(\"eta\");\n        const textEta = date_formatter.getMinText(this.eta);\n        elmEta.innerHTML = textEta;\n        // offset\n        const elmOffset = document.getElementById(\"offset\");\n        if (this.time_offset.offset_jst) {\n            var textOffset;\n            if (this.time_offset.offset_jst < 0) {\n                textOffset = \"-\" + date_formatter.getMinText(new Date(-this.time_offset.offset_jst));\n            } else {\n                textOffset = \"+\" + date_formatter.getMinText(new Date(this.time_offset.offset_jst));\n            }\n            if (this.time_offset.offset_5T > 0) {\n                textOffset += \" + 2sec (5T)\";\n            }\n            elmOffset.innerHTML = textOffset + \" を補正済\";\n        } else {\n            elmOffset.innerHTML = \"時刻合わせ中 ...\";\n        }\n    }\n    update_list() {\n        // list\n        for (let i in this.list) {\n            const elmSTT = document.getElementById(\"stt-item-\" + (Number(i) + 1));\n            const textSTT = date_formatter.getMonthText(this.list[i]);\n            elmSTT.innerHTML = textSTT;\n        }\n    }\n    update(loop = false) {\n        this.calc_eta();\n        this.update_eta();\n        this.update_list();\n\n        if (loop) {\n            var interval = 1000;\n            if (this.eta < 60 * 1000) {\n                interval = 50;\n                setTimeout(this.update.bind(this), interval);\n            }\n        }\n    }\n    load_mode5T() {\n        // mdl では label の方に本体があるらしい\n        // https://qiita.com/tomgoodsun/items/691257f367633f8727b6\n        const elmMode5T = document.getElementById(\"mode_5T\");\n        const mode5T = localStorage[\"mode_5T\"];\n        const MaterialSwitch = elmMode5T.parentElement.MaterialSwitch;\n        const MaterialCheckbox = elmMode5T.parentElement.MaterialCheckbox;\n        console.log(elmMode5T);\n        console.log(MaterialSwitch);\n        console.log(MaterialCheckbox);\n        if (MaterialSwitch) {\n            if (mode5T) { MaterialSwitch.on(); }\n            else { MaterialSwitch.off(); }\n        }\n        this.on_change_mode5T();\n\n    }\n    on_change_mode5T() {\n        const elmMode5T = document.getElementById(\"mode_5T_label\");\n        // 逆だと思うんだけど\n        const mode5T = elmMode5T.className.split(\" \").indexOf(\"is-checked\") === -1;\n        if (mode5T) {\n            this.time_offset.set_offset_5T(2 * 1000);\n        } else {\n            this.time_offset.set_offset_5T(0);\n        }\n        localStorage[\"mode_5T\"] = mode5T;\n        this.update(false);\n    }\n}\n\nwindow.onload = () => {\n    var app = new App();\n    app.update();\n};\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","class SalmonrunTimeTimer {\n    constructor(time_offset = null) {\n        this.time_offset = time_offset;\n    }\n\n    // テストしやすいように基準の日時を渡せるようにした\n    listup_next_STT(date = Date.now()) {\n        var list = [];\n        var base;\n        if (this.time_offset) {\n            base = this.time_offset.get_time(date);\n        } else {\n            base = new Date(date);\n        }\n        //  period |   0   |            1            | 2  ...  6 |            7            | 8\n        // minutes | 00 01 | 02 03 04 05 06 07 08 09 | 10 ... 49 | 50 51 52 53 54 55 56 57 | 58 59\n        var period = Math.floor( (base.getMinutes() - 2) / 8) + 1; // it becomes 0 to 8\n        \n        // in this hour (upto 1st(:02),2nd(:10), ... ,7th(:50))\n        var hours = base.getHours();\n\n        // iterate about hours\n        for(; list.length < 7; ) {\n            // in this hour\n            // i が 8 なら次の時間へ、もしくは 7 件埋まれば終了\n            for(var i = period+1; i <= 7 && list.length < 7; ++i) {\n                var minutes = 2 + (i-1) * 8;\n                var d = new Date(base);\n                d.setHours(hours);\n                d.setMinutes(minutes);\n                d.setSeconds(0);\n                d.setMilliseconds(0);\n                list.push( d );\n            }\n            // for next hour\n            period = 0;\n            hours += 1;\n        }\n        return list;\n    }\n}\n\nexport default SalmonrunTimeTimer;\n\n\n// WEBPACK FOOTER //\n// ./src/salmonrun_time_timer.js","class DateFormatter {\n    constructor() {\n    }\n\n    getMonthText(d)\n    {\n        var MM = d.getMonth() + 1;\n        var DD = d.getDate();\n        if (MM < 10) MM = \"0\" + MM;\n        if (DD < 10) DD = \"0\" + DD;\n\n        var hh = d.getHours();\n        var mm = d.getMinutes();\n        var ss = d.getSeconds();\n\n        if (hh < 10) hh = \"0\" + hh;\n        if (mm < 10) mm = \"0\" + mm;\n        if (ss < 10) ss = \"0\" + ss;\n\n        return ( MM + \"/\" + DD + \" \" + hh + \":\" + mm + \":\" + ss);\n    }\n    getMinText(d)\n    {\n        var mm = d.getMinutes();\n        var ss = d.getSeconds();\n        var SSS = d.getMilliseconds();\n\n        if (mm < 10) mm = \"0\" + mm;\n        if (ss < 10) ss = \"0\" + ss;\n        if      (SSS <  10) { SSS = \"00\" + SSS; }\n        else if (SSS < 100) { SSS = \"0\" + SSS; }\n\n        return (mm + \":\" + ss + \".\" + SSS);\n    }\n}\n\nexport default DateFormatter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/date_formatter.js","// based on https://www.nict.go.jp/JST/JST5.js\n\nvar ServerList = [\n    \"https://ntp-a1.nict.go.jp/cgi-bin/json\",\n    \"https://ntp-b1.nict.go.jp/cgi-bin/json\",\n    \"https://ntp-a4.nict.go.jp/cgi-bin/json\"\n];\nimport getJSON from \"get-json-data\";\n\nclass TimeOffset {\n    constructor(offset_5T = 0) {\n        this.offset_jst = 0;\n        this.set_offset_5T(offset_5T);\n        this.get_offset_jst();\n    }\n\n    get_time(date = Date.now()) {\n        var offset = 0;\n        if (this.offset_jst) { offset += this.offset_jst; }\n        if (this.offset_5T ) { offset += this.offset_5T ; }\n        return new Date(date + offset);\n    }\n    \n    set_offset_5T(offset_5T) {\n        this.offset_5T = offset_5T;\n    }\n\n    get_offset_jst() {\n        this.results = new Array();\n        const server_no = Math.floor(Math.random() * 3);\n        const server_addr = ServerList[server_no];\n        // ランダムで一つのサーバにアクセスすれば十分\n        getJSON(server_addr + \"?\" + ( (new Date()).getTime() / 1000 ), (err, json) => {\n            if (err) {\n                console.log(String(err));\n                return;\n            }\n            var now = new Date();\t \t\t// Receive time\n            if( json.st && json.it && json.leap && json.next && json.step ) {\n                json.rt = now.getTime(); \t\t// Receive time\n                json.it = Number(json.it) * 1000; \t// Initiate time\n                json.st = Number(json.st) * 1000; \t// Send time\n                json.lb = json.it - 16 - json.st;\t// estimated lower bound\n                json.ub = json.rt + 16 - json.st;\t// estimated upper bound\n\n                // 詰まるところ必要なのは中央の修正値だけ\n                this.offset_jst = - ( json.lb + json.ub ) / 2;\n            }\n        });\n    }\n}\n\n\nexport default TimeOffset;\n\n\n// WEBPACK FOOTER //\n// ./src/time_offset.js","// get-json-data\n//code from https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started\n(function() {\n  var makeRequest = function(url,callback,opt) {\n    var xhr;\n    if (XMLHttpRequest) { // Mozilla, Safari, ...\n      xhr = new XMLHttpRequest();\n    } else if (ActiveXObject) { // IE\n      try {\n        xhr = new ActiveXObject(\"Msxml2.XMLHTTP\");\n      } \n      catch (e) {\n        try {\n          xhr = new ActiveXObject(\"Microsoft.XMLHTTP\");\n        } \n        catch (e) {}\n      }\n    }\n\n    if (!xhr) {\n      callback.call(this,\n        'Giving up :( Cannot create an XMLHTTP instance',\n        null);\n      return false;\n    }\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState === 4) {\n        if (xhr.status >= 200 && xhr.status <400) {\n          var data = xhr.responseText,\n            raw = opt && opt.hasOwnProperty('raw') ? opt.raw : false;  \n          if(!raw) {\n            try {\n              data = JSON.parse(data);\n            } catch (e) {\n              callback.call(this, e,null);\n              return;\n            }\n          }\n          callback.call(this,null,data);\n        } else {\n          callback.call(this,\n            new Error('There was a problem with the request'),\n            null);\n        }\n      }\n    };\n    var method = opt && opt.method ? opt.method : 'GET';\n    if (method == 'GET') { \n      var params = [];\n      if (opt && opt.params && typeof(opt.params) == 'object') {\n        for( var key in opt.params) {\n          params.push(key +'='+ encodeURIComponent(opt.params[key]));\n        }\n      }\n      url = params.length > 0 ? url+'?'+params.join('&') : url;\n      xhr.open('GET', url);\n      xhr.send();\n    } else if (method == 'POST') {\n      var data = opt && opt.data ? opt.data : opt.params ? opt.params : {};\n      xhr.open('POST', url);\n      xhr.send(JSON.stringify(data));\n    }\n    return xhr;\n  }\n\n  if(typeof module !== 'undefined' && module.exports) {\n    module.exports = makeRequest;\n  }\n  if(typeof window!== 'undefined') {\n    window.getJSONData = makeRequest;\n  } \n})();\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/get-json-data/index.js"],"sourceRoot":""}