{"version":3,"sources":["webpack:///webpack/bootstrap 954e242d8e3e724bd2e6","webpack:///./src/main.js","webpack:///./src/salmonrun_time_timer.js","webpack:///./src/date_formatter.js","webpack:///./src/time_offset.js","webpack:///./node_modules/get-json-data/index.js"],"names":["date_formatter","App","time_offset","timer","elmEta","document","getElementById","elmModeFriend","elmEtaArea","elmEtaLabel","elmOffset","load_modeFriend","onclick","on_change_modeFriend","bind","list","listup_next_STT","now","get_time","eta","Date","textEta","getMinText","innerHTML","labelText","offset_friend","offset_jst","textOffset","i","elmSTT","Number","textSTT","getMonthText","loop","calc_eta","update_eta","update_list","interval","setTimeout","update","modeFriend","localStorage","checked","classForNornalModeBack","classForFriendModeBack","classForNornalModeFore","classForFriendModeFore","classList","remove","set_offset_friend","add","window","onload","app","SalmonrunTimeTimer","date","base","period","Math","floor","getMinutes","hours","getHours","length","minutes","d","setHours","setMinutes","setSeconds","setMilliseconds","push","DateFormatter","MM","getMonth","DD","getDate","hh","mm","ss","getSeconds","SSS","getMilliseconds","ServerList","TimeOffset","get_offset_jst","offset","results","Array","server_no","random","server_addr","getTime","err","json","st","it","leap","next","step","rt","lb","ub","makeRequest","url","callback","opt","xhr","XMLHttpRequest","ActiveXObject","e","call","onreadystatechange","readyState","status","data","responseText","raw","hasOwnProperty","JSON","parse","Error","method","params","key","encodeURIComponent","join","open","send","stringify","module","exports","getJSONData"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 954e242d8e3e724bd2e6","import SalmonrunTimeTimer from \"./salmonrun_time_timer\";\nimport DateFormatter from \"./date_formatter\";\nimport TimeOffset from \"./time_offset\";\n\nconst date_formatter = new DateFormatter();\n\nclass App {\n    constructor() {\n        this.time_offset = new TimeOffset();\n        this.timer = new SalmonrunTimeTimer(this.time_offset);\n\n        this.elmEta = document.getElementById(\"eta\");\n        this.elmModeFriend = document.getElementById(\"mode_friend\");\n        this.elmEtaArea = document.getElementById(\"eta_area\");\n        this.elmEtaLabel = document.getElementById(\"eta_label\");\n        this.elmOffset = document.getElementById(\"offset\");\n\n        this.load_modeFriend();\n        this.elmModeFriend.onclick = this.on_change_modeFriend.bind(this);\n    }\n    calc_eta() {\n        this.list = this.timer.listup_next_STT();\n        const now = this.time_offset.get_time();\n        var eta = this.list[0] - now;\n        this.eta = new Date(eta);\n    }\n    update_eta() {\n        // eta\n        const textEta = date_formatter.getMinText(this.eta);\n        this.elmEta.innerHTML = textEta;\n        // show label\n\n        let labelText = 'ST';\n        if (this.time_offset.offset_friend != 0) {\n            labelText += '(フレ部屋)';\n        }\n        labelText += 'まで';\n        this.elmEtaLabel.innerHTML = labelText;\n        // show offset text\n        if (this.time_offset.offset_jst) {\n            var textOffset;\n            if (this.time_offset.offset_jst < 0) {\n                textOffset = \"-\" + date_formatter.getMinText(new Date(-this.time_offset.offset_jst));\n            } else {\n                textOffset = \"+\" + date_formatter.getMinText(new Date(this.time_offset.offset_jst));\n            }\n            textOffset += \" を補正\";\n            if (this.time_offset.offset_friend != 0) {\n                textOffset += \" (2秒遅れ)\";\n            }\n            this.elmOffset.innerHTML = textOffset;\n        } else {\n            this.elmOffset.innerHTML = \"時刻合わせ中 ...\";\n        }\n    }\n    update_list() {\n        // list\n        for (let i in this.list) {\n            const elmSTT = document.getElementById(\"stt-item-\" + (Number(i) + 1));\n            const textSTT = date_formatter.getMonthText(this.list[i]);\n            elmSTT.innerHTML = textSTT;\n        }\n    }\n    update(loop = false) {\n        this.calc_eta();\n        this.update_eta();\n        this.update_list();\n\n        if (loop) {\n            var interval = 1000;\n            if (this.eta < 60 * 1000) {\n                interval = 50;\n            }\n            setTimeout(this.update.bind(this, true), interval);\n        }\n    }\n    load_modeFriend() {\n        const modeFriend = localStorage[\"mode_friend\"];\n        // localStorage には文字列で格納されている\n        this.elmModeFriend.checked = (modeFriend == 'true' || modeFriend == true) ? true : false;\n        this.on_change_modeFriend();\n\n    }\n    on_change_modeFriend() {\n        const classForNornalModeBack = 'mdl-color--grey-800';\n        const classForFriendModeBack = 'mdl-color--green-900';\n        const classForNornalModeFore = 'mdl-color-text--grey-600';\n        const classForFriendModeFore = 'mdl-color-text--yellow-600';\n\n        const modeFriend = this.elmModeFriend.checked;\n        this.elmEtaArea.classList.remove(classForNornalModeBack);\n        this.elmEtaArea.classList.remove(classForFriendModeBack);\n\n        this.elmEtaLabel.classList.remove(classForNornalModeFore);\n        this.elmEtaLabel.classList.remove(classForFriendModeFore);\n        this.elmOffset.classList.remove(classForNornalModeFore);\n        this.elmOffset.classList.remove(classForFriendModeFore);\n        if (modeFriend) {\n            this.time_offset.set_offset_friend(-2 * 1000);\n            this.elmEtaArea.classList.add(classForFriendModeBack);\n            this.elmEtaLabel.classList.add(classForFriendModeFore);\n            this.elmOffset.classList.add(classForFriendModeFore);\n            \n        } else {\n            this.time_offset.set_offset_friend(0);\n            this.elmEtaArea.classList.add(classForNornalModeBack);\n            this.elmEtaLabel.classList.add(classForNornalModeFore);\n            this.elmOffset.classList.add(classForNornalModeFore);\n        }\n        localStorage[\"mode_friend\"] = modeFriend;\n        this.update(false);\n    }\n}\n\nwindow.onload = () => {\n    var app = new App();\n    app.update(true);\n};\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","class SalmonrunTimeTimer {\n    constructor(time_offset = null) {\n        this.time_offset = time_offset;\n    }\n\n    // テストしやすいように基準の日時を渡せるようにした\n    listup_next_STT(date = Date.now()) {\n        var list = [];\n        var base;\n        if (this.time_offset) {\n            base = this.time_offset.get_time(date);\n        } else {\n            base = new Date(date);\n        }\n        //  period |   0   |            1            | 2  ...  6 |            7            | 8\n        // minutes | 00 01 | 02 03 04 05 06 07 08 09 | 10 ... 49 | 50 51 52 53 54 55 56 57 | 58 59\n        var period = Math.floor( (base.getMinutes() - 2) / 8) + 1; // it becomes 0 to 8\n        \n        // in this hour (upto 1st(:02),2nd(:10), ... ,7th(:50))\n        var hours = base.getHours();\n\n        // iterate about hours\n        for(; list.length < 7; ) {\n            // in this hour\n            // i が 8 なら次の時間へ、もしくは 7 件埋まれば終了\n            for(var i = period+1; i <= 7 && list.length < 7; ++i) {\n                var minutes = 2 + (i-1) * 8;\n                var d = new Date(base);\n                d.setHours(hours);\n                d.setMinutes(minutes);\n                d.setSeconds(0);\n                d.setMilliseconds(0);\n                list.push( d );\n            }\n            // for next hour\n            period = 0;\n            hours += 1;\n        }\n        return list;\n    }\n}\n\nexport default SalmonrunTimeTimer;\n\n\n// WEBPACK FOOTER //\n// ./src/salmonrun_time_timer.js","class DateFormatter {\n    constructor() {\n    }\n\n    getMonthText(d)\n    {\n        var MM = d.getMonth() + 1;\n        var DD = d.getDate();\n        if (MM < 10) MM = \"0\" + MM;\n        if (DD < 10) DD = \"0\" + DD;\n\n        var hh = d.getHours();\n        var mm = d.getMinutes();\n        var ss = d.getSeconds();\n\n        if (hh < 10) hh = \"0\" + hh;\n        if (mm < 10) mm = \"0\" + mm;\n        if (ss < 10) ss = \"0\" + ss;\n\n        return ( MM + \"/\" + DD + \" \" + hh + \":\" + mm + \":\" + ss);\n    }\n    getMinText(d)\n    {\n        var mm = d.getMinutes();\n        var ss = d.getSeconds();\n        var SSS = d.getMilliseconds();\n\n        if (mm < 10) mm = \"0\" + mm;\n        if (ss < 10) ss = \"0\" + ss;\n        if      (SSS <  10) { SSS = \"00\" + SSS; }\n        else if (SSS < 100) { SSS = \"0\" + SSS; }\n\n        return (mm + \":\" + ss + \".\" + SSS);\n    }\n}\n\nexport default DateFormatter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/date_formatter.js","// based on https://www.nict.go.jp/JST/JST5.js\n\nvar ServerList = [\n    \"https://ntp-a1.nict.go.jp/cgi-bin/json\",\n    \"https://ntp-b1.nict.go.jp/cgi-bin/json\",\n    \"https://ntp-a4.nict.go.jp/cgi-bin/json\"\n];\nimport getJSON from \"get-json-data\";\n\nclass TimeOffset {\n    constructor(offset_friend = 0) {\n        this.offset_jst = 0;\n        this.set_offset_friend(offset_friend);\n        this.get_offset_jst();\n    }\n\n    get_time(date = Date.now()) {\n        var offset = 0;\n        if (this.offset_jst) { offset += this.offset_jst; }\n        if (this.offset_friend ) { offset += this.offset_friend ; }\n        return new Date(date + offset);\n    }\n    \n    set_offset_friend(offset_friend) {\n        this.offset_friend = offset_friend;\n    }\n\n    get_offset_jst() {\n        this.results = new Array();\n        const server_no = Math.floor(Math.random() * 3);\n        const server_addr = ServerList[server_no];\n        // ランダムで一つのサーバにアクセスすれば十分\n        getJSON(server_addr + \"?\" + ( (new Date()).getTime() / 1000 ), (err, json) => {\n            if (err) {\n                //console.log(String(err));\n                return;\n            }\n            var now = new Date();\t \t\t// Receive time\n            if( json.st && json.it && json.leap && json.next && json.step ) {\n                json.rt = now.getTime(); \t\t// Receive time\n                json.it = Number(json.it) * 1000; \t// Initiate time\n                json.st = Number(json.st) * 1000; \t// Send time\n                json.lb = json.it - 16 - json.st;\t// estimated lower bound\n                json.ub = json.rt + 16 - json.st;\t// estimated upper bound\n\n                // 詰まるところ必要なのは中央の修正値だけ\n                this.offset_jst = - ( json.lb + json.ub ) / 2;\n            }\n        });\n    }\n}\n\n\nexport default TimeOffset;\n\n\n// WEBPACK FOOTER //\n// ./src/time_offset.js","// get-json-data\n//code from https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started\n(function() {\n  var makeRequest = function(url,callback,opt) {\n    var xhr;\n    if (XMLHttpRequest) { // Mozilla, Safari, ...\n      xhr = new XMLHttpRequest();\n    } else if (ActiveXObject) { // IE\n      try {\n        xhr = new ActiveXObject(\"Msxml2.XMLHTTP\");\n      } \n      catch (e) {\n        try {\n          xhr = new ActiveXObject(\"Microsoft.XMLHTTP\");\n        } \n        catch (e) {}\n      }\n    }\n\n    if (!xhr) {\n      callback.call(this,\n        'Giving up :( Cannot create an XMLHTTP instance',\n        null);\n      return false;\n    }\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState === 4) {\n        if (xhr.status >= 200 && xhr.status <400) {\n          var data = xhr.responseText,\n            raw = opt && opt.hasOwnProperty('raw') ? opt.raw : false;  \n          if(!raw) {\n            try {\n              data = JSON.parse(data);\n            } catch (e) {\n              callback.call(this, e,null);\n              return;\n            }\n          }\n          callback.call(this,null,data);\n        } else {\n          callback.call(this,\n            new Error('There was a problem with the request'),\n            null);\n        }\n      }\n    };\n    var method = opt && opt.method ? opt.method : 'GET';\n    if (method == 'GET') { \n      var params = [];\n      if (opt && opt.params && typeof(opt.params) == 'object') {\n        for( var key in opt.params) {\n          params.push(key +'='+ encodeURIComponent(opt.params[key]));\n        }\n      }\n      url = params.length > 0 ? url+'?'+params.join('&') : url;\n      xhr.open('GET', url);\n      xhr.send();\n    } else if (method == 'POST') {\n      var data = opt && opt.data ? opt.data : opt.params ? opt.params : {};\n      xhr.open('POST', url);\n      xhr.send(JSON.stringify(data));\n    }\n    return xhr;\n  }\n\n  if(typeof module !== 'undefined' && module.exports) {\n    module.exports = makeRequest;\n  }\n  if(typeof window!== 'undefined') {\n    window.getJSONData = makeRequest;\n  } \n})();\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/get-json-data/index.js"],"sourceRoot":""}